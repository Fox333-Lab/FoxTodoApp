(this.webpackJsonpfirebasetodo=this.webpackJsonpfirebasetodo||[]).push([[0],{31:function(e,t,a){e.exports=a(59)},36:function(e,t,a){},37:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),c=a(28),l=a.n(c),r=(a(36),a(37),a(9)),s=a(29),i=a.n(s).a.initializeApp({apiKey:"AIzaSyARYMfkZMaBzKxUf0-PUvTXkFwKYrkX8ro",authDomain:"react-firebase-practice-31c7c.firebaseapp.com",databaseURL:"https://react-firebase-practice-31c7c.firebaseio.com",projectId:"react-firebase-practice-31c7c",storageBucket:"react-firebase-practice-31c7c.appspot.com",messagingSenderId:"230462173025",appId:"1:230462173025:web:691d3ebb6afaf7a3091f20",measurementId:"G-126MXFTN4W"}),u=a(17),m=a(11),d=function(){var e=Object(o.useState)({}),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(o.useEffect)((function(){!function(){var e=i.firestore().collection("todolist").onSnapshot((function(e){console.log("Current data: ",e.docs.map((function(e){return e.data()}))),c(Object(u.a)({},e.docs.map((function(e){return e.data()}))))}))}()}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",{className:"list-group list-group-flush mt-3 p-3"},Object.keys(a).map((function(e){return n.a.createElement("li",{className:"list-group-item",key:e},n.a.createElement(m.a,{icon:!1===a[e].status?"question-circle":"check-circle",className:!1===a[e].status?"text-danger":"text-success"}),n.a.createElement("span",{role:"button",style:{cursor:"pointer"},className:"d-inline-block ml-2",onClick:function(){return t=a[e].id,o=a[e].status,console.log("set id : ",t),console.log("set id : ",o),void i.firestore().collection("todolist").doc("item_".concat(t)).update({status:!o}).then((function(){console.log("status changed")})).catch((function(e){console.log("set error : ",e)}));var t,o}},a[e].description),n.a.createElement("button",{type:"button",className:"close",onClick:function(){return t="item_"+(t=a[e].id),i.firestore().collection("todolist").doc(t).delete().then((function(){console.log("deleted ".concat(t," successfully"))})).catch((function(e){console.log("delete error : "+e)})),void console.log(t);var t}},n.a.createElement("span",{"aria-hidden":"true",title:"delete"},"\xd7")))}))))},p=n.a.createContext(),f=function(e){var t=Object(o.useState)(""),a=Object(r.a)(t,2),c=a[0],l=a[1];return Object(o.useEffect)((function(){i.auth().onAuthStateChanged((function(e){e?(console.log("context true : "+e),l("true")):(console.log("context false : "+e),l("false"))}))}),[c,l]),n.a.createElement(p.Provider,{value:[c,l]},e.children)},g=a(3),b=function(){var e=Object(o.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],l=Object(o.useState)(0),s=Object(r.a)(l,2),u=s[0],f=s[1],b=Object(o.useState)(0),E=Object(r.a)(b,2),h=E[0],v=E[1],N=Object(o.useContext)(p),j=Object(r.a)(N,2),O=j[0];j[1];return Object(o.useEffect)((function(){"true"===O&&function(){var e=i.firestore().collection("todolist").onSnapshot((function(e){console.log("Current data 1: ",e.docs.map((function(e){return e.data()}))),f(e.docs.length),i.firestore().collection("todolist").where("status","==",!1).get().then((function(e){console.log("snaps 1 : ",e.size),v(e.size)})).catch((function(e){console.log("err snaps : "+e)})),console.log("snaps : ")}))}()}),[]),n.a.createElement(n.a.Fragment,null,""===O?"":"true"===O?n.a.createElement("div",{className:"card col-md-4 offset-md-4 mt-5 p-0"},n.a.createElement("div",{className:"card-header text-center"},"Todo App"),n.a.createElement("form",{autoComplete:"off",className:"pt-5 pl-3 pr-3",onSubmit:function(e){e.preventDefault(),""===a?alert("enter a todo to add"):(i.firestore().collection("todolist").doc("item_".concat(Date.now().toString())).set({id:Date.now().toString(),description:a,status:!1}).then((function(){console.log("todo added success"),c("")})).catch((function(e){console.log("failed todo addition")})),console.log("date : "+Date.now().toString()))}},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"todo...","aria-label":"todo",onChange:function(e){c(e.target.value)},name:"todo",value:a,style:{boxShadow:"none"}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-success",style:{boxShadow:"none"},type:"submit"},"Add")))),n.a.createElement(d,null),n.a.createElement("div",{className:"card-footer mt-2"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-5"},"Total Todos : ",u),n.a.createElement("div",{className:"col-md-5"},"Pending : ",h),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("div",{className:"d-block h-100 text-center",title:"logout",role:"button",onClick:function(){i.auth().signOut()}},n.a.createElement(m.a,{icon:"sign-out-alt"})))))):n.a.createElement(g.a,{to:"/"}))},E=a(18),h=a(16),v=a(20),N=a(21),j=function(){var e=Object(o.useContext)(p),t=Object(r.a)(e,2),a=t[0],c=t[1],l=Object(o.useState)({email:"",password:""}),s=Object(r.a)(l,2),d=s[0],f=s[1],b=function(e){var t=e.target,a=t.name,o=t.value;f(Object(u.a)(Object(u.a)({},d),{},Object(N.a)({},a,o)))};return Object(o.useEffect)((function(){}),[]),n.a.createElement(n.a.Fragment,null,""===a?n.a.createElement("div",{className:"col-md-1 text-center text-muted offset-md-5",style:{marginTop:"100px"}},n.a.createElement(m.a,{icon:"spinner",spin:!0,size:"2x"})):"false"===a?n.a.createElement("div",{className:"col-md-5 offset-md-3"},n.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault(),""!==d.email&&""!==d.password&&(i.auth().signInWithEmailAndPassword(d.email,d.password).then((function(e){e&&(console.log("login success"),c("true"))})).catch((function(e){console.log("login err : ",e),c("false")})),console.log(d))}},n.a.createElement("div",{className:"form-group input-group mt-5"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement(m.a,{icon:"envelope"}))),n.a.createElement("input",{placeholder:"email",name:"email",type:"email",className:"form-control",onChange:b})),n.a.createElement("div",{className:"form-group input-group mt-1"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("div",{className:"input-group-text"},n.a.createElement(m.a,{icon:"lock"}))),n.a.createElement("input",{placeholder:"password",name:"password",type:"password",className:"form-control",onChange:b})),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{type:"submit",className:"form-control btn btn-primary"},"Login")))):n.a.createElement(g.a,{to:"/todo"}))};E.b.add(h.a,h.d,h.b,h.c,h.f,h.e);var O=function(){return n.a.createElement(v.a,{basename:"/FoxTodoApp"},n.a.createElement(f,null,n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"container pt-5"},n.a.createElement(g.d,null,n.a.createElement(g.b,{path:"/",exact:!0,component:j}),n.a.createElement(g.b,{path:"/todo",component:b}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.4fdaef63.chunk.js.map